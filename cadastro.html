<!DOCTYPE html>
<html lang = "pt-br">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="styles/style.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Frontend Test | Cadastre-se</title>
    </head>
    <body>
<!--       <style>
            body *{
                border: green solid 2px;
            }
        </style>-->
        <header ><img src="images/logo.png" alt="UpperLogo"></header>
        <div class="content">
            <div class="registerCard">
                <h2 class="registerTitle">Cadastro</h2>
                <form class="infoArea" onsubmit ="registerUser(event)">

                    <div class="inputItens"> 
                        <div class="itens">
                            <label for="name">Nome Completo</label>
                            <input type="text"id="name" name="nameReg" required>
                        </div>

                       <div class="itens">
                           <label for="email">E-mail</label>
                           <input type="text"id="email" name="emailReg" required>
                        </div>
                    </div>    

                    <div class="inputItens">
                        <div class="itens">
                            <label for="name">Estado</label>
                            <input type="text"id="states" name="statesReg" required>
                        </div>
                        
                        <div class="checkboxArea">                       
                            <legend>Sexo</legend>
                            <div class="radio">
                                
                                <div class="radioItens">
                                    <input type="radio"name ="radioReg" id="fem" value="feminino" required>
                                    <label for="fem">Feminino</label>
                                </div>
                                
                                <div class="radioItens">
                                    <input type="radio"name ="radioReg" id="masc" value="masculino" required>
                                    <label for="masc">Masculino</label>
                                </div>
                                
                                <div class="radioItens">
                                    <input type="radio"name ="radioReg" id="other" value="outros" required>
                                    <label for="other">Outro</label>
                                </div>
                            </div>                      
                        </div>
                    </div>
                    
                    <div class="inputItens">
                        
                        <div class="itens">
                            <label for="pass">Senha</label>
                            <input type="password"id="pass" name="passReg" required min="6">
                            <h3 class="isolatedInfo">A senha deve ter no minimo 6 caracteres</h3> 
                        </div>

                        <div class="itens">
                            <label for="passConf">Confirmar Senha</label>
                            <input type="password"id="passConf" name="passConfReg" required min="6">
                        </div>
                    </div>
                    <button type="submit">CADASTRAR</button>
                </form>
                <h3 class="loginText">JÃ¡ possui conta ? <a href="index.html">Entre aqui</a></h3>
            </div>
        </div>
        <script>
            function registerUser(event){
                event.preventDefault();
                const formData = new FormData(document.querySelector('form'))
                const pass =  formData.get("passReg");
                const passConf = formData.get("passConfReg");
                if (pass !== passConf){
                    console.log("Senha Diferente.");
                    return;
                }
                if(pass.length < 6 ){
                    console.log("Senha pequena demais");
                    return;
                }
                const email = formData.get("emailReg");
                const name = formData.get("nameReg");
                const states = formData.get("statesReg");
                const radio = formData.get("radioReg");

                const user = {
                    name: name,
                    email: email,
                    states: states,
                    pass: pass,
                    radio : radio
                }
                let armazenar = sessionStorage.getItem('users')
                if (armazenar === null){
                    sessionStorage.setItem('users',JSON.stringify([user]));
                    return;
                    
                }
                else {
                    let newVar = JSON.parse(armazenar);
                    newVar.push(user);
                    sessionStorage.setItem('users',JSON.stringify(newVar));
                }
                window.location.replace("index.html")         
            }
        </script>
    </body>



</html>